<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
    <input type="text" class="textbox" id="textbox" />
</body>
</html>

<script>
    $(function () {       

        var ThousandDelimiterJS = function (element, options) {
            this.element = $(element);
            this.thousandDelimiter = ",";
            this.decimalDelimiter = ".";

            this.isInput = this.element.is('input');
            if (this.isInput)
            {
                this.element.on({
                    change: $.proxy(this.doMagic, this)
                });
            }
        };

        ThousandDelimiterJS.prototype = {
            constructor: ThousandDelimiterJS,
            doMagic: function (e) {
                debugger
                var that = this;
                var val = $(e.target).val(); //get val from element here
                val = that.washInput(val);
                val = delimitinput(val);
                return val;
            },
            washInput: function (val) {
                var that = this;
                val = that.removeSpaces(val); //clean data from spaces
                val = that.removeLetters(val); //clean data from letters //save $€£ ?? as option?

                if (this.thousandDelimiter == ",") {
                    val = that.removeCommas(val);
                }
                else if (this.thousandDelimiter == ".") {
                    val = that.removeDots(val);
                }
                return val;
            },
            removeSpaces: function (val) {
                val = val.replace(/\s+/g, '');
                return val;
            },
            removeLetters: function (val) {
                return val = val.replace(/[^\d.,-]/g, '');
            },
            removeCommas: function (val) {
                return val = that.replaceAll(",", "", val);
            },
            removeDots: function (val) {
                return val = that.replaceAll(".", "", val);
            },
            replaceAll: function (find, replace, val) {
                return val.replace(new RegExp(find, 'g'), replace);
            }

        };
        $.fn.thousanddelimiterjs = function (option) {
            return this.each(function () {
                var $this = $(this);
                new ThousandDelimiterJS(this, null); //null options... add options in data-tag
            });
        };
        $.fn.thousanddelimiterjs.constructor = ThousandDelimiterJS;
        
        $('.textbox').thousanddelimiterjs(); //binds class to functionality

        //USE THIS LATER?
        //var delimitInput = function (val) {
        //    debugger
        //    val += '';
        //    x = val.split(DecimalDelimiter);
        //    x1 = x[0];
        //    DecimalVal = x.length > 1 ? DecimalDelimiter + x[1] : '';
        //    var rgx = /(\d+)(\d{3})/;
        //    while (rgx.test(x1)) {
        //        x1 = x1.replace(rgx, '$1' + ThousandDelimiter + '$2');
        //    }
        //    return x1 + DecimalVal;
        //};
    });
</script>